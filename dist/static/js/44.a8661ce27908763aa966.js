webpackJsonp([44],{"Nx+f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("4YfN"),o=n.n(i),a=n("R4Sj"),r=n("nXBt"),s={computed:o()({},Object(a.e)({prom:function(e){return e.prom},user:function(e){return e.user}})),data:function(){return{uploadAciton:"",processNum:0,head:{},gsmDate:{},lteDate:{},uploadHead:{},fileListUmts:[],fileListLte:[],fileListCell:[],activeName:"second",ptype:"",form:{differentFrequency:"16",sameFrequency:"25",distance:"5",first_diistance:"2",indoorFrequency:"16",distance_indoor:"16",Frequency_3G:"20",distance_3G:"5",first_diistance_3G:"2",pciNeedFrequencyDifference:"1",pci_distance:"5"},legitimat:!0,isloading:!1}},created:function(){sessionStorage.getItem("pname")&&this.setpname_prom(sessionStorage.getItem("pname")),window.addEventListener("beforeunload",function(){sessionStorage.setItem("pname",sessionStorage.getItem("pname"))}),this.head={projectname:this.prom.prom_pname,username:JSON.parse(sessionStorage.user).username,filetype:"neipaln"},this.uploadHead={projectname:this.prom.prom_pname,username:JSON.parse(sessionStorage.user).username,filetype:"neipaln",Authorization:"bearer "+sessionStorage.getItem("token")},this.uploadAciton=this.user.httppath+"/api/NeiPlan/Upload",this.gsmDate={neifiletype:"umts"},this.lteDate={neifiletype:"lte"}},methods:o()({},Object(a.d)(["setpname_prom"]),{down:function(){var e=this.user.httppath+"/api/FileDown/Download",t={projectname:this.prom.prom_pname,username:JSON.parse(sessionStorage.user).username,filetype:"neiplan"};Object(r.a)(e,t)},analysis:function(){"default"!==this.prom.prom_pname?this.dbInput():this.$notify({title:"警告",message:"没有权限对公有工程进行数据入库",type:"warning"})},dbInput:function(){var e=this;if(console.log("dbInput"),this.legitimat){this.isloading=!0;var t={headers:this.head};this.$http.post(this.user.httppath+"/api/NeiPlan/Analysis",{form:this.form},t).then(function(t){e.isloading=!1,e.$notify({title:"成功",message:"解析完成",type:"success"})}).catch(function(t){e.isloading=!1,e.$notify({title:"警告",message:t,type:"warning"})})}else this.$notify({title:"警告",message:"参数存在错误",type:"warning"})},handleRemoveUmts:function(e,t){console.log(e,t)},handleRemoveLte:function(e,t){console.log(e,t)},handleRemoveCell:function(e,t){console.log(e,t)},handlePreviewUmts:function(e){console.log(e)},handlePreviewLte:function(e){console.log(e)},handlePreviewCell:function(e){console.log(e)},submitUpload:function(){console.log("这是函数 submitUpload"),"default"===this.prom.prom_pname?this.$notify({title:"警告",message:"没有权限对公共工程进行操作",type:"warning"}):(console.log(this.head),this.$refs.uploadUmts.submit(),this.$refs.uploadCell.submit(),this.$refs.uploadLte.submit())},handleClick:function(e,t){console.log("这是 handleClick 函数");var n=e.$vnode.child.index;console.log(n),this.ptype="0"===n?"lteOutdoor":"1"===n?"lteIndoor":"2"===n?"umtsIndoor":""},numberT:function(e){if(""!==e)return console.log("这是 intTest 函数"),console.log(e),isNaN(e)?(this.$notify({title:"警告",message:"不是数字",type:"warning"}),this.legitimat=!1,!1):(this.legitimat=!0,!0)}})},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-main",[n("br"),e._v(" "),n("br"),e._v(" "),n("el-upload",{ref:"uploadUmts",attrs:{action:e.uploadAciton,headers:e.uploadHead,data:e.gsmDate,"bind:on-preview":"handlePreviewUmts","on-remove":e.handleRemoveUmts,"file-list":e.fileListUmts,"auto-upload":!1,limit:1,multiple:!0,accept:".txt"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("3g 宏站文件")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("支持.txt格式的文件")])],1),e._v(" "),n("br"),e._v(" "),n("el-upload",{ref:"uploadLte",attrs:{action:e.uploadAciton,headers:e.uploadHead,data:e.lteDate,"on-preview":e.handlePreviewLte,"on-remove":e.handleRemoveLte,"file-list":e.fileListLte,"auto-upload":!1,limit:1,multiple:!0,accept:".txt"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("4g 宏站文件")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("支持.txt格式的文件")])],1),e._v(" "),n("br"),e._v(" "),n("el-upload",{ref:"uploadCell",attrs:{action:e.uploadAciton,headers:e.uploadHead,"on-preview":e.handlePreviewCell,"on-remove":e.handleRemoveCell,"file-list":e.fileListCell,"auto-upload":!1,limit:1,multiple:!0,accept:".csv"}},[n("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("规划小区文件")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("支持.csv格式的文件")])],1),e._v(" "),n("el-button",{attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),n("a",{on:{click:e.down}},[e._v("模板下载 ")]),e._v(" "),n("br"),e._v(" "),n("div",{staticStyle:{"margin-left":"200px"}},[e._v("参数设置")]),e._v(" "),n("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"4G-4G 宏站",name:"first"}},[e._v("4G-4G 宏站")]),e._v(" "),n("el-tab-pane",{attrs:{label:"4G-4G 室分",name:"second"}},[e._v("4G-4G 室分")]),e._v(" "),n("el-tab-pane",{attrs:{label:"4G-3G",name:"third"}},[e._v("4G-3G")]),e._v(" "),n("el-tab-pane",{attrs:{label:"RSI/PCI 规划",name:"fourth"}},[e._v("RSI/PCI 规划")])],1),e._v(" "),"lteOutdoor"===e.ptype?n("div",[n("label",[e._v("邻区数量 异频:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.differentFrequency,expression:"form.differentFrequency"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.differentFrequency},on:{change:function(t){return e.numberT(e.form.differentFrequency)},input:function(t){t.target.composing||e.$set(e.form,"differentFrequency",t.target.value)}}}),e._v(" "),n("label",[e._v("个")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("邻区数量 同频:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.sameFrequency,expression:"form.sameFrequency"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.sameFrequency},on:{change:function(t){return e.numberT(e.form.sameFrequency)},input:function(t){t.target.composing||e.$set(e.form,"sameFrequency",t.target.value)}}}),e._v(" "),n("label",[e._v("个")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("最大 筛选距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.distance,expression:"form.distance"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.distance},on:{change:function(t){return e.numberT(e.form.distance)},input:function(t){t.target.composing||e.$set(e.form,"distance",t.target.value)}}}),e._v(" "),n("label",[e._v("km")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("优先 筛选距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_diistance,expression:"form.first_diistance"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.first_diistance},on:{change:function(t){return e.numberT(e.form.first_diistance)},input:function(t){t.target.composing||e.$set(e.form,"first_diistance",t.target.value)}}}),e._v(" "),n("label",[e._v("km")])]):"lteIndoor"===e.ptype?n("div",[n("label",[e._v("邻区数量:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.indoorFrequency,expression:"form.indoorFrequency"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.indoorFrequency},on:{change:function(t){return e.numberT(e.form.indoorFrequency)},input:function(t){t.target.composing||e.$set(e.form,"indoorFrequency",t.target.value)}}}),e._v(" "),n("label",[e._v("个")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("最大 筛选距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.distance_indoor,expression:"form.distance_indoor"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.distance_indoor},on:{change:function(t){return e.numberT(e.form.distance_indoor)},input:function(t){t.target.composing||e.$set(e.form,"distance_indoor",t.target.value)}}}),e._v(" "),n("label",[e._v("个")])]):"umtsIndoor"===e.ptype?n("div",[n("label",[e._v("邻区数量:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.Frequency_3G,expression:"form.Frequency_3G"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.Frequency_3G},on:{change:function(t){return e.numberT(e.form.Frequency_3G)},input:function(t){t.target.composing||e.$set(e.form,"Frequency_3G",t.target.value)}}}),e._v(" "),n("label",[e._v("邻区数量:")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("最大 筛选距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.distance_3G,expression:"form.distance_3G"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.distance_3G},on:{change:function(t){return e.numberT(e.form.distance_3G)},input:function(t){t.target.composing||e.$set(e.form,"distance_3G",t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("label",[e._v("优先 筛选距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.first_diistance_3G,expression:"form.first_diistance_3G"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.first_diistance_3G},on:{change:function(t){return e.numberT(e.form.first_diistance_3G)},input:function(t){t.target.composing||e.$set(e.form,"first_diistance_3G",t.target.value)}}})]):n("div",[n("label",[e._v("Pci 规划是否考虑异频点:")]),e._v(" "),n("el-radio",{attrs:{label:"1"},model:{value:e.form.pciNeedFrequencyDifference,callback:function(t){e.$set(e.form,"pciNeedFrequencyDifference",t)},expression:"form.pciNeedFrequencyDifference"}},[e._v("是")]),e._v(" "),n("el-radio",{attrs:{label:"0"},model:{value:e.form.pciNeedFrequencyDifference,callback:function(t){e.$set(e.form,"pciNeedFrequencyDifference",t)},expression:"form.pciNeedFrequencyDifference"}},[e._v("否")]),e._v(" "),n("br"),e._v(" "),n("label",[e._v("RSN 复用距离:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.pci_distance,expression:"form.pci_distance"}],attrs:{placeholder:"请输入数字"},domProps:{value:e.form.pci_distance},on:{change:function(t){return e.numberT(e.form.pci_distance)},input:function(t){t.target.composing||e.$set(e.form,"pci_distance",t.target.value)}}})],1),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("el-button",{attrs:{type:"primary",loading:e.isloading,size:"mini"},on:{click:e.analysis}},[e._v("解析")])],1)],1)},staticRenderFns:[]};var c=n("C7Lr")(s,l,!1,function(e){n("kckO")},null,null);t.default=c.exports},kckO:function(e,t){}});
//# sourceMappingURL=44.a8661ce27908763aa966.js.map