webpackJsonp([12],{J9wR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),o=a.n(n),s=a("R4Sj"),r=a("9cX3"),l={computed:o()({},Object(s.e)({prom:function(e){return e.prom},user:function(e){return e.user}})),components:{"v-exportTable":r.a},data:function(){return{headers:{},result:[],rowDate:{},tables:[],pageNum:0,showTables:[]}},created:function(){var e=this;console.log("bulkcm crate 函数"),sessionStorage.getItem("pname")&&this.setpname_prom(sessionStorage.getItem("pname")),window.addEventListener("beforeunload",function(){sessionStorage.setItem("pname",sessionStorage.getItem("pname"))}),this.headers={headers:{projectname:this.prom.prom_pname,username:JSON.parse(sessionStorage.user).username,filetype:"kget"}},this.$http.post(this.user.httppath+"/api/Kget/TableName",{},this.headers).then(function(t){console.log(t),e.tables=t,e.handleCurrentChange(1),e.initPageNum()}).catch(function(e){console.log(e)})},methods:o()({},Object(s.d)(["setpname_prom"]),{handleCurrentChange:function(e){this.showTables=this.tables.slice(14*(e-1),14*(e-1)+14-1)},initPageNum:function(){this.pageNum=this.tables.length},handleSelectionChange:function(){console.log("handleSelectionChange 函数")},handleRowChange:function(e){var t=this;console.log("这是 函数handleRowChange",e),this.rowDate=e;var a={tableName:e.tableName};this.$http.post(this.user.httppath+"/api/Kget/TableData",a,this.headers).then(function(e){console.log(e),t.result=e}).catch(function(e){console.log(e)})}})},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-aside",{attrs:{width:"300px"}},[a("el-table",{staticStyle:{width:"300px"},attrs:{"highlight-current-row":!0,data:e.showTables},on:{"row-click":e.handleRowChange}},[a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"tableName",label:"表名称"}})],1),e._v(" "),a("div",{staticClass:"pagination-wrapper"},[a("el-pagination",{attrs:{layout:"prev, pager, next","pager-count":5,total:e.pageNum},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-main",[a("v-exportTable",{attrs:{tableData:e.result}}),e._v(" "),a("br"),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.result}},e._l(e.result[0],function(t,n){return a("el-table-column",{key:n,attrs:{label:n,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row[n])+"\n        ")]}}])})}),1)],1)],1)},staticRenderFns:[]};var h=a("C7Lr")(l,i,!1,function(e){a("al0i")},null,null);t.default=h.exports},al0i:function(e,t){}});
//# sourceMappingURL=12.468e075e2b6c000fc6fb.js.map