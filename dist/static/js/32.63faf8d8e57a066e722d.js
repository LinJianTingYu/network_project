webpackJsonp([32],{Luci:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("4YfN"),n=s.n(a),i=s("R4Sj"),r={name:"login",components:{ResetPassword:s("WTgq").default},computed:n()({},Object(i.e)({prom:function(e){return e.prom},user:function(e){return e.user}})),data:function(){return{username:"",password:"",isLoging:!1,author:window.APP_INFO.author,version:window.APP_INFO.version,appName:window.APP_INFO.appName,resetPassword:!1}},methods:n()({},Object(i.b)(["login"]),{handleLogin:function(){var e=this;if(this.username&&this.password){var t={username:this.username,password:this.password};this.$http.post(this.user.httppath+"/api/WebUser/Login",t).then(function(t){console.log(t),"不存在该用户"===t?e.$notify({title:"警告",message:"不存在该用户",type:"warning"}):"密码不正确，请重新输入"===t?e.$notify({title:"警告",message:"密码输入错误",type:"warning"}):(sessionStorage.setItem("pname","default"),console.log(t),e.login({username:e.username,password:e.password,ticket:t.ticket}),e.$message.success("登录成功"),e.$router.push({name:"home"}))})}else this.$notify({title:"警告",message:"用户名和密码不能为空",type:"warning"})},goRegister:function(){this.$router.push({name:"p-register"})},closeReset:function(){this.resetPassword=!1},handleResetPassWord:function(){this.resetPassword=!0}})},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login",staticStyle:{"margin-left":"0px"}},[s("div",{staticClass:"login-box"},[e._m(0),e._v(" "),s("p",{staticClass:"text-tips-header"},[e._v("你好，欢迎登录")]),e._v(" "),s("form",{staticClass:"login-form",attrs:{action:""}},[s("div",{staticClass:"m-list-group"},[s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[e._v("用户名称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"登录用户名,2-10个字符"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"m-list-group-item"},[s("label",{staticClass:"m-label",attrs:{for:"username"}},[e._v("密    码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"m-input",attrs:{type:"password",placeholder:"必须包含字母、数字,长度不小于8位"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),s("el-row",{staticClass:"help-box"},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){return t.preventDefault(),e.goRegister(t)}}},[e._v("快速注册")]),e._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:function(t){return t.preventDefault(),e.handleResetPassWord(t)}}},[e._v("忘记密码")])],1),e._v(" "),s("div",{staticClass:"m-btn-box"},[s("button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoging,expression:"isLoging"}],staticClass:"m-btn sub select-none",on:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])])],1)]),e._v(" "),e.resetPassword?s("div",{staticClass:"reset"},[s("reset-password",{on:{closeReset:e.closeReset}})],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center"}},[t("img",{staticClass:"logo",attrs:{src:s("7Otq"),alt:""}})])}]};var l=s("C7Lr")(r,o,!1,function(e){s("SswP")},"data-v-764b59cd",null);t.default=l.exports},SswP:function(e,t){}});
//# sourceMappingURL=32.63faf8d8e57a066e722d.js.map